'use strict';function _asyncToGenerator(a){return function(){var b=a.apply(this,arguments);return new Promise(function(c,d){function f(g,h){try{var i=b[g](h),j=i.value}catch(k){return void d(k)}return i.done?void c(j):Promise.resolve(j).then(function(k){f('next',k)},function(k){f('throw',k)})}return f('next')})}}$(function(){var a=$('#loginForm'),b=$('#email'),c=$('#password');a.submit(function(){var d=_asyncToGenerator(regeneratorRuntime.mark(function f(g){var h,i,j,k,l,m,n,o,p,q;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(g.preventDefault(),h=b.val(),i=c.val(),j=inputIsValid(b,REGEXP.EMAIL.test(h))&&inputIsValid(c),j){s.next=8;break}return s.abrupt('return',!1);case 8:return k=new jsSHA('SHA-256','TEXT'),l=new jsSHA('SHA-256','TEXT'),k.update(h),l.update(i),m={email:h,pass1:k.getHash('HEX'),pass2:l.getHash('HEX')},s.prev=13,s.next=16,postAsync('/user/login',q);case 16:n=s.sent,o=n.status,p=n.msg,q=n.data,showAlert(p,o),o&&(location.href='fileList.html'),s.next=26;break;case 22:s.prev=22,s.t0=s['catch'](13),showAlert(MSG.ERROR),console.log(s.t0);case 26:case'end':return s.stop();}},f,void 0,[[13,22]])}));return function(){return d.apply(this,arguments)}}())});