'use strict';function _asyncToGenerator(a){return function(){var b=a.apply(this,arguments);return new Promise(function(c,d){function f(g,h){try{var i=b[g](h),j=i.value}catch(k){return void d(k)}return i.done?void c(j):Promise.resolve(j).then(function(k){f('next',k)},function(k){f('throw',k)})}return f('next')})}}$(function(){var a=$('#loginForm'),b=$('#email'),c=$('#password');a.submit(function(){var d=_asyncToGenerator(regeneratorRuntime.mark(function f(g){var h,i,j,k,l,m,n,o,p;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(g.preventDefault(),h=b.val(),i=c.val(),j=inputIsValid(b,REGEXP.EMAIL.test(h))&&inputIsValid(c),j){r.next=8;break}return r.abrupt('return',!1);case 8:return k=new jsSHA('SHA-256','TEXT'),l=new jsSHA('SHA-256','TEXT'),k.update(h),l.update(i),r.prev=12,r.next=15,postAsync('/user/login',{email:h,pass1:k.getHash('HEX'),pass2:l.getHash('HEX')});case 15:m=r.sent,n=m.status,o=m.msg,p=m.data,showAlert(o,n),n&&(location.href='fileList.html'),r.next=25;break;case 21:r.prev=21,r.t0=r['catch'](12),showAlert(MSG.ERROR),console.log(r.t0);case 25:case'end':return r.stop();}},f,void 0,[[12,21]])}));return function(){return d.apply(this,arguments)}}())});